!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).termux_robot_utility={})}(this,(function(n){"use strict";function e(n){let{execSync:e}=require("child_process");return e(n)}function t(){let{existsSync:n}=require("fs");!0!==n("./node_modules/")&&e("npm init -y")}function o(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}function r(n){try{return e(`${o()} ${n}`)}catch(n){return}}function i(){t(),void 0===r("pnpm")&&e("npm install pnpm -g")}function s(n){let{existsSync:t}=require("fs");!0!==t(`./node_modules/${n}`)&&(i(),console.log(`将安装模块：${n}`),e(`pnpm add ${n} --save-dev`),console.log(`已安装模块：${n}`))}function c(n){return s(n),require(n)}async function a(){return await c("ps-list")()}n.child_process_exec_sync=e,n.create_crontab_tasks=async function n(e){void 0!==e&&(await start_processes({crond:{cmd:{program:"crond",args:[]},install:{program:"pkg",args:["install","cronie","-y"]}}}),c("crontab").load((function(t,o){if(null===o)return void n(e);let r=o.jobs().map((function(n){return n.toString()}));e.forEach((function(n){!0!==r.includes(n.join(" "))&&(o.create(n[1],n[0]),console.log("创建任务：",n[0],n[1]))})),o.save()})))},n.executable_find=r,n.get_platform_which_command=o,n.get_process_list=a,n.hello=function(){console.log("欢迎")},n.install_require_module=c,n.is_process_live=async function(n){return 0!==(await a()).filter((function(e){return e.name===n})).length},n.npm_config_set_regisitry_taobao=function(){return e("npm config set registry https://registry.npm.taobao.org")},n.npm_init_y=t,n.pnpm_add_save_dev=s,n.pnpm_init_y=i,n.termux_notification=function(n){void 0===n&&(n={});let e=[];Object.keys(n).forEach((function(t){e.push(t,n[t])})),install_program("termux-notification",{program:"pkg",args:["install","termux-api","-y"]}),start_process({program:"termux-notification",args:e})},Object.defineProperty(n,"__esModule",{value:!0})}));
