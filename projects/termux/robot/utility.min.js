!function(n,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((n="undefined"!=typeof globalThis?globalThis:n||self).termux_robot_utility={})}(this,(function(n){"use strict";function e(n){let{execSync:e}=require("child_process");return e(n)}function t(){let{existsSync:n}=require("fs");!0!==n("./node_modules/")&&e("npm init -y")}function o(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}function i(n){try{return e(`${o()} ${n}`)}catch(n){return}}function r(){t(),void 0===i("pnpm")&&e("npm install pnpm -g")}function c(n){let{existsSync:t}=require("fs");!0!==t(`./node_modules/${n}`)&&(r(),console.log(`将安装模块：${n}`),e(`pnpm add ${n} --save-dev`),console.log(`已安装模块：${n}`))}function s(n){return c(n),require(n)}async function u(){return await s("ps-list")()}async function l(n){return 0!==(await u()).filter((function(e){return e.name===n})).length}n.child_process_exec_sync=e,n.create_crontab_tasks=function n(t){void 0!==t&&(void 0===i("crond")&&e("pkg install cronie -y"),!1===l("crond")&&(console.log("启动：crond"),e("crond")),s("crontab").load((function(e,o){if(null===o)return void n(t);let i=o.jobs().map((function(n){return n.toString()}));t.forEach((function(n){!0!==i.includes(n.join(" "))&&(o.create(n[1],n[0]),console.log("创建任务：",n[0],n[1]))})),o.save()})))},n.executable_find=i,n.get_platform_which_command=o,n.get_process_list=u,n.hello=function(){console.log("欢迎")},n.install_require_module=s,n.is_file_exists=function(n){return require("fs").existsSync(n)},n.is_process_live=l,n.npm_config_set_regisitry_taobao=function(){return e("npm config set registry https://registry.npm.taobao.org")},n.npm_init_y=t,n.pnpm_add_save_dev=c,n.pnpm_init_y=r,n.termux_notification=function(n){void 0===n&&(n={});let t=[];Object.keys(n).forEach((function(e){t.push(e,n[e])})),void 0===i("termux-notification")&&e("pkg install termux-api -y"),e(`termux-notification ${t.join(" ")}`)},Object.defineProperty(n,"__esModule",{value:!0})}));
