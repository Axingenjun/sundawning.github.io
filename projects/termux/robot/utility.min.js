!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports):"function"==typeof define&&define.amd?define(["exports"],n):n((e="undefined"!=typeof globalThis?globalThis:e||self).termux_robot_utility={})}(this,(function(e){"use strict";function n(e){let{execSync:n}=require("child_process");return n(e)}function t(){let{existsSync:e}=require("fs");!0!==e("./node_modules/")&&n("npm init -y")}function i(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}function o(e){try{return n(`${i()} ${e}`)}catch(e){return}}function r(){t(),void 0===o("pnpm")&&n("npm install pnpm -g")}function c(e){let{existsSync:t}=require("fs");!0!==t(`./node_modules/${e}`)&&(r(),console.log(`将安装模块：${e}`),n(`pnpm add ${e} --save-dev`),console.log(`已安装模块：${e}`))}function s(e){return c(e),require(e)}async function u(){return await s("ps-list")()}e.child_process_exec_sync=n,e.create_crontab_tasks=function e(t){void 0!==t&&(void 0===o("crond")&&n("pkg install cronie -y"),s("crontab").load((function(n,i){if(null===i)return void e(t);let o=i.jobs().map((function(e){return e.toString()}));t.forEach((function(e){!0!==o.includes(e.join(" "))&&(i.create(e[1],e[0]),console.log("创建任务：",e[0],e[1]))})),i.save()})))},e.executable_find=o,e.get_platform_which_command=i,e.get_process_list=u,e.hello=function(){console.log("欢迎")},e.install_require_module=s,e.is_file_exists=function(e){return require("fs").existsSync(e)},e.is_process_live=async function(e){return 0!==(await u()).filter((function(n){return n.name===e})).length},e.npm_config_set_regisitry_taobao=function(){return n("npm config set registry https://registry.npm.taobao.org")},e.npm_init_y=t,e.pnpm_add_save_dev=c,e.pnpm_init_y=r,e.termux_notification=function(e){void 0===e&&(e={});let t=[];Object.keys(e).forEach((function(n){t.push(n,e[n])})),void 0===o("termux-notification")&&n("pkg install termux-api -y"),n(`termux-notification ${t.join(" ")}`)},Object.defineProperty(e,"__esModule",{value:!0})}));
