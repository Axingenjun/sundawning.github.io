!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";function e(e){let{execSync:n}=require("child_process");return n(e)}function n(n){try{return e(`${function(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}()} ${n}`)}catch(e){return}}function t(e){return require("fs").existsSync(e)}!function(){e("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/index.bash -o index.bash");let{existsSync:i,readFileSync:o,writeFileSync:r,appendFileSync:s}=require("fs"),a="/data/data/com.termux/files/home/.bashrc",c="bash ~/termux-robot/index.bash";!1===i(a)&&(console.log("文件不存在：",a),r(a,c),console.log("创建文件：",a)),-1===o(a,"utf8").search(c)&&(console.log("不存在启动命令：",c),s(a,c),console.log("添加启动命令到：",a)),e("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/index.min.js -o index.min.js"),[["pnpm","npm install pnpm -g"],["pm2","pnpm add pm2 -g"]].forEach((function(t){void 0===n(t[0])&&e(t[1])})),e("pm2 kill"),e("pm2 start index.min.js"),void 0===n("emacs")&&e("pkg install emacs -y"),!0===t("/data/data/com.termux/files/home/.emacs.d")&&e("rm -r ~/.emacs.d"),!1===t("/data/data/com.termux/files/home/.emacs.d")&&e("mkdir ~/.emacs.d"),e("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/init.el -o ~/.emacs.d/init.el"),void 0===n("rollup")&&e("pnpm add rollup -g"),e("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/rollup.config.js -o rollup.config.js"),["install","uninstall","index","koa","utility"].forEach((function(n){e(`curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/${n}.js -o ${n}.js`)}))}()}));
