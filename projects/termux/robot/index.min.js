!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){let{execSync:i}=require("child_process");return i(n)}function i(i){try{return n(`${function(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}()} ${i}`)}catch(n){return}}function t(){!function(){let{existsSync:i}=require("fs");!0!==i("./node_modules/")&&n("npm init -y")}(),void 0===i("pnpm")&&n("npm install pnpm -g")}function o(i){return function(i){let{existsSync:o}=require("fs");!0!==o(`./node_modules/${i}`)&&(t(),console.log(`将安装模块：${i}`),n(`pnpm add ${i} --save-dev`),console.log(`已安装模块：${i}`))}(i),require(i)}async function e(t){void 0!==t&&(void 0===i("crond")&&n("pkg install cronie -y"),o("crontab").load((function(n,i){if(null===i)return void e(t);let o=i.jobs().map((function(n){return n.toString()}));t.forEach((function(n){!0!==o.includes(n.join(" "))&&(i.create(n[1],n[0]),console.log("创建任务：",n[0],n[1]))})),i.save()})))}!async function(){var t;console.log("欢迎"),void 0===i("mysqld")&&n("pkg install mariadb -y"),[["pnpm","npm install pnpm -g"],["pm2","pnpm add pm2 -g"]].forEach((function(t){void 0===i(t[0])&&n(t[1])})),n("pm2 start mysqld"),!1===(t="koa.min.js",require("fs").existsSync(t))&&n("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/koa.min.js -o koa.min.js"),n("pm2 start koa.min.js"),void 0===i("sshd")&&n("pkg install openssh -y"),n("sshd -p 8022"),await e([["30 8 * * *","am start -n com.alibaba.android.rimet/com.alibaba.android.rimet.biz.LaunchHomeActivity"],["0 18 * * *","am start -n com.alibaba.android.rimet/com.alibaba.android.rimet.biz.LaunchHomeActivity"]])}()}));
