!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){let{execSync:e}=require("child_process");return e(n)}function e(){!function(){let{existsSync:e}=require("fs");!0!==e("./node_modules/")&&n("npm init -y")}();try{n(`${function(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}()} pnpm`)}catch(e){n("npm install pnpm -g")}}function o(o){return function(o){let{existsSync:r}=require("fs");!0!==r(`./node_modules/${o}`)&&(e(),console.log(`将安装模块：${o}`),n(`pnpm add ${o} --save-dev`),console.log(`已安装模块：${o}`))}(o),require(o)}function r(n,e){return console.log(`启动程序：${n.program} ${n.args.join(" ")}`),o("cross-spawn").sync(n.program,n.args,e)}!async function(){!function(n,e,t){let c=o("which");c(n,(function(o,s){o?(console.log(`未安装程序：${n}`),console.log(`将安装程序：${n}`),r(e),c(n,(function(e,o){e?console.log(`无法安装程序：${n}`):t&&t()}))):t&&t()}))}("pm2",{program:"pnpm",args:["add","pm2","-g"]},(function(){r({program:"pm2",args:["start","tasks.min.js"]})}))}()}));
