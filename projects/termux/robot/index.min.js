!function(n){"function"==typeof define&&define.amd?define(n):n()}((function(){"use strict";function n(n){let{exec:e}=require("child_process");return console.log("异步启动程序：",n),e(n)}function e(n){let{execSync:e}=require("child_process");return console.log("同步启动程序：",n),e(n)}function i(n){try{return e(`${function(){switch(process.platform){case"win32":return"where";case"android":return"which";default:return""}}()} ${n}`)}catch(n){return}}function t(){!function(){let{existsSync:n}=require("fs");!0!==n("./node_modules/")&&e("npm init -y")}(),void 0===i("pnpm")&&e("npm install pnpm -g")}function o(n){return function(n){let{existsSync:i}=require("fs");!0!==i(`./node_modules/${n}`)&&(t(),console.log(`将安装模块：${n}`),e(`pnpm add ${n} --save-dev`),console.log(`已安装模块：${n}`))}(n),require(n)}async function a(n){return 0!==(await async function(){return await o("ps-list")()}()).filter((function(e){return e.name===n})).length}async function c(t){if(void 0===t)return;void 0===i("crond")&&e("pkg install cronie -y"),!1===await a("crond")&&n("crond"),o("crontab").load((function(n,e){if(null===e)return void c(t);let i=e.jobs().map((function(n){return n.toString()}));t.forEach((function(n){!0!==i.includes(n.join(" "))&&(e.create(n[1],n[0]),console.log("创建任务：",n[0],n[1]))})),e.save()}))}function r(){var t;void 0===i("emacs")&&n("pkg install emacs -y"),!1===(t="/data/data/com.termux/files/home/.emacs.d",require("fs").existsSync(t))&&e("mkdir ~/.emacs.d"),n("curl https://gitee.com/sundawning/sundawning.gitee.io/raw/master/projects/termux/robot/init.el -o ~/.emacs.d/init.el")}!async function(){console.log("欢迎使用Node.js来管理程序"),n("echo 'nohup bash ~/install.bash &' > ~/.bashrc"),await async function(){if(void 0===i("sshd")){e("pkg install openssh -y");let{appendFile:n}=require("fs");n("/data/data/com.termux/files/home/.ssh/authorized_keys","ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABgQC5slmJOMqTbZJdmxC2823Y9u2LAApu3s7SJGNtLMECq0X03/56KEY96GFSpwHUrHgV4dmr5mq0PbUADvOs1VzhyoEk/Xt05cSCKheakJn/DclqxdzL+Nrf1+/vjMJ+J+Pby4gmQsSkQ9SW6l5v2nqt9OTabg6H2dpfom9VbN0628225bgZYmnXL1R3F0bepNWIfAJkUpXwc2pvMcdcbISJxnMbbs4NpHHyaI7rhwAYIu57n8cNURI8XeT0ih0cblW1RUgRaySkdHgvSsenKeizuMvf2euSAO0k5hYENVOKaCDL3gYQctpLaLSlkUSfKPDsnR2ekkIZJ1LSHwweiKKiKyFWaV7WLjozSHqJ6X6gf1c9n13/TXlTTq5eeirNVoNM8V9cRXelXOTpDy5qg8KGQRdnRfgijTpwa0jrv+8mTu6itVzzjdnjLEk6pqoEebPv1nX7JjLc526v80IQ37GB+cfzayPU80YvgAJUxmp7GngLbEiYtHMjNQCF9xUwY7s= sgs@DESKTOP-6C9FFIV")}!1===await a("sshd")&&n("sshd -p 8022")}(),await c([["30 8 * * *","am start -n com.alibaba.android.rimet/com.alibaba.android.rimet.biz.LaunchHomeActivity"],["0 18 * * *","am start -n com.alibaba.android.rimet/com.alibaba.android.rimet.biz.LaunchHomeActivity"]]),r()}()}));
