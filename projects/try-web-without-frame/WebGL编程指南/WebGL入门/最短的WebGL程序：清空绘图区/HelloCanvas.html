<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>清空绘图区</title>
  </head>
  <body>
    <script type="text/javascript">
      class HelloCanvas extends HTMLElement {
        constructor() {
          super();
          this.attachShadow({ mode: "open" });
          this.render();
          {
            // 1. 获取<canvas>标签
            const canvas = this.shadowRoot.querySelector("canvas");
            // 2. 获取绘制webgl的地方
            const gl = canvas.getContext("webgl");
            // 3. 设置clear操作所使用的颜色
            gl.clearColor(0, 0, 1, 1.0);
            // 4. 执行clear操作
            gl.clear(gl.COLOR_BUFFER_BIT);
          }
        }
        render() {
          const template = document.createElement("template");
          template.innerHTML = `
          <canvas width="400" height="400">请使用能支持“canvas”功能的浏览</canvas>          
          `;
          this.shadowRoot.appendChild(template.content.cloneNode(true));
        }
      }
      window.customElements.define("hello-canvas", HelloCanvas);
    </script>
    <hello-canvas></hello-canvas>
  </body>
</html>
